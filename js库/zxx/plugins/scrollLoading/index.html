<html>
<head>
    <meta charset="utf-8">
    <title>页面图片等元素在普通元素中滚动动态加载技术</title>
    <link rel="stylesheet" href="./css/common.css" type="text/css"/>
    <style>
        .zxx_test_list {
            font-size: 13px;
        }

        .zxx_test_list img {
            margin-bottom: 5px;
        }

        .zxx_main_con {
            height: 600px;
            overflow: auto;
        }
    </style>
</head>
<body>
<div class="zxx_out_box">
    <div class="zxx_in_box">
        <div id="zxxMainCon" class="zxx_main_con">
            <script>
                var tempHTML = "";
                for (var i = 1; i <= 30; i += 1) {
                    if (i === 6) {
                        tempHTML += '<div class="zxx_test_list scrollLoading" data-url="loaded.html"><div style="padding:100px 0; text-align:center;"><img src="./image/loading.gif" style="margin:0 8px -8px 0;" />加载中...</div></div>';
                    } else {
                        tempHTML += '<div class="zxx_test_list tc"><img class="scrollLoading" data-url="http://image.zhangxinxu.com/image/study/head/s180/' + i + '.jpeg" src="http://s1.xiaomishu.com/b/img/pixel.gif" width="180" height="180" style="background:url(./image/loading.gif) no-repeat center;" /><br />图片' + i + '(新浪微博提供)</div>';
                    }
                }
                tempHTML += '<div class="zxx_test_list tc"><h6>下面藏了一张图片，<a href="javascript:" id="zxxClickBtn">点击显示</a></h6>\
        <div id="zxxShow" style="display:none;">\
        	<img class="scrollLoading" width="256" height="191" data-url="http://image.zhangxinxu.com/image/study/s/s256/mm1.jpg" />\
        </div></div>';
                document.getElementById("zxxMainCon").innerHTML = tempHTML;
            </script>
        </div>
    </div>
</div>
<script src="./js/jquery.min.js"></script>
<script type="text/javascript" src="./js/jquery.scrollLoading.js"></script>
<script>
    $(function () {
        $(".scrollLoading").scrollLoading({
            container: $("#zxxMainCon"),
            callback: function () {
                this.style.border = "3px solid #a0b3d6";
            }
        });

        $('#zxxClickBtn').click(function () {
            $('#zxxShow').show();
            $("#zxxMainCon").trigger('scroll');
        });
    });
</script>
</body>
</html>
